<meta http-equiv="content-type" content="text/html; charset=UTF8">
<html>
<head>
	<title>Explore space</title>
	<link rel="stylesheet" type="text/css" href="../style.css">
	<script type="text/javascript" src="d3/d3.v3.js"></script>
</head>
<body>
<script>
//get data about star and other space things and then creat interface to ravel from a point to a point and show travel inbetween as starwars style light speed travel
	var width=500;
	var height=500;
	var amountofstars=70;
	//crreat array of onject element hav and a radom x and y value
	var starPoints=[];
	function getStars(){
		starPoints=[];
	for(var i=0;i<amountofstars;i++){
		var x=(((Math.random()*1000))%width);
		var y=(((Math.random()*1000))%height);
		starPoints.push({"x":x,"y":y})
	}
	}
	


	var svg=d3.select("body").append("svg")
		.attr("width",width)
		.attr("height",height);
	//draw background
	svg.append("rect")
		.attr("width",width)
		.attr("height", height)
		.attr("fill", "rgba(0,0,0,1)");
		//draw stars

		;
		function drawStars(){
	svg.selectAll("circle").data(starPoints).enter()
		.append("circle")
		.attr("r",1)
		.attr("fill","rgba(255,255,255,1")
		.attr("cx",function(d){
			return d.x;
		})
		.attr("cy",function(d){
			return d.y;
		})
	}

//function warp(){
//scale=1.01
//for(var i=0;i<50;i++){
//	drawNext(starPoints,scale);
//	scale+=.01;
//}

var amount=0;
var scale=1.01
function warp(){

	
	drawNext(starPoints,scale);
	scale+=.01;
	if(amount<50){
		setTimeout(warp,1);
		amount++;
	}else{amount=0;scale=1.01;}
}


function drawNext(ray,factor){
	var temp=[];
	for(var i=0;i<ray.length;i++){
		
		temp.push({"x":ray[i].x,"y":ray[i].y});
		temp[i].x-=(width/2);
		temp[i].y-=(height/2);
		//console.log(warp.x)
		//console.log(factor);
		temp[i].x*=factor;
		temp[i].y*=factor;

		temp[i].x+=(width/2);
		temp[i].y+=(height/2);

		svg.append("circle")
		.attr("r",1)
		.attr("fill","rgba(255,255,255,1)")
		.attr("cx",temp[i].x)
		.attr("cy", temp[i].y);
	}
}
	
function reset(){
	svg.selectAll("circle").remove();
	getStars();
	drawStars();
	
}
getStars();
drawStars();

//how to animate for warp.
//strech stars into lines from center out// maybe i should use small ine instead of circles?
//I could claculate slope from the origin to the sircle then draw more circle on the lines

//if i scale and shift the coordinate system in the middle of the screenthen add the new points ontop as i calculate them.
// take star corrdiante array copy it to a array for floats
//do the math to scale points to the float array
//ad to the screen new dots using a rounded versions of the float array
// keep doing this until it looks cool



// the math...
//shift point to a 0 based corrdinate system subtract half width and heigth from all points
//new point should be old points multiplyt may work but it might not be even for points close to the origin and point far from the origin
//move point back by adding half width anf height to each
// draw new points
//at no point should any thing be deleted from the screen

// turns out that i use loats fro svg circle x and y points






</script>
</br>
<button onclick="warp()">Begin Warp</button>
<button onclick="reset()">Reset</button>
</body>
</html>